server:
  host: 0.0.0.0
  port: 8080
  mode: debug  # debug/release

database:
  host: localhost
  port: 3306
  user: root
  password: root123
  dbname: im_db
  max_idle_conns: 10
  max_open_conns: 100

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0

jwt:
  # JWT密钥必须设置！推荐使用环境变量 JWT_SECRET
  # 示例：export JWT_SECRET="your-very-long-and-secure-jwt-secret-key-at-least-32-characters-long"
  # 生产环境请使用环境变量！下面仅为开发环境默认值
  secret: "gochat-dev-jwt-secret-key-for-development-only-secure-2024-minimum-32-chars"
  expire_hours: 168  # 7天

websocket:
  read_buffer_size: 1024
  write_buffer_size: 1024
  max_message_size: 10240  # 10KB
  pong_wait: 60s
  write_wait: 10s

# CORS跨域配置
cors:
  # 开发环境允许本地域名，生产环境需配置具体域名
  allowed_origins:
    - "http://localhost:3000"
    - "http://127.0.0.1:3000"
    # 生产环境示例：
    # - "https://yourdomain.com"
    # - "https://www.yourdomain.com"
  allow_credentials: true
  allowed_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allowed_headers:
    - "Content-Type"
    - "Content-Length"
    - "Accept-Encoding"
    - "X-CSRF-Token"
    - "Authorization"
    - "accept"
    - "origin"
    - "Cache-Control"
    - "X-Requested-With"
  max_age: 86400  # 24小时

log:
  level: info         # debug/info/warn/error
  dir: ./logs         # 日志文件目录
  output: file        # 输出目标: console(仅控制台)/file(仅文件)/both(同时输出到控制台和文件)
